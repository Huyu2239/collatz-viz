# CollatzViz 要件一覧

優先度: 🔴 Must / 🟡 Want / ⚪ Nice to have

---

## ビジュアル・レイアウト

- 🔴 2の累乗（1, 2, 4, 8, 16, ...）が幹として左端に縦に走る
- 🔴 枝（×3+1の子）は幹から右へ伸びる
- 🔴 エッジはすべて完全な直線
- 🟡 ノード同士が重ならない（同一座標に2つのノードが置かれない）
- 🟡 ×3+1エッジは短い斜線（隣の列へ）
- 🟡 パスの交差がない



## インタラクション

- 🔴 ドラッグでパン
- 🔴 Ctrl/Cmd+スクロールでズーム（カーソル位置中心）
- 🔴 スクロールでパン
- 🟡 スクロール範囲に上限・下限（コンテンツ外に出すぎない）

## 表示制御

- 🔴 最大値の入力（ヘッダーのテキストボックス）
- 🟡 ズームレベルに応じたラベルの段階的表示
  - scale > 0.7: hasOddChild のノードのみ
  - scale > 1.5: + isOddChild のノードも
  - scale > 3: すべて
- 🟡 ラベルはノードの左側に表示

## 技術

- 🔴 Retina（高DPI）対応
- 🟡 大きい数（10000+）でもフリーズしない（ビューポートカリング）
- 🟡 幹はmaxを超えた最小の2の累乗まで延伸

## 配色

- 🔴 背景: #111111
- 🔴 幹エッジ: #a08050 / 幹ノード: #c9a96e
- 🔴 枝エッジ: #3a7e99 / 枝ノード: #4a9ebb
- 🔴 葉エッジ: #5ea068 / 葉ノード: #7ec488
- 🔴 ラベル: #999999
